syntax = "proto3";

package gobuildmaster;

import "github.com/brotherlogic/gobuildslave/proto/slave.proto";

message Config {
  repeated Intent intents = 1;
}

message Intent {
  gobuildslave.JobSpec spec = 1;
  int32 count = 2;
}

message Empty {}

message CompareResponse {
  Config current = 1;
  Config desired = 2;
}

service GoBuildMaster {
	rpc Compare(Empty) returns (CompareResponse) {};
}
